<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Architectures Orientées Web</title>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/sky.css">

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h3>Architectures Orientées Web</h3>
				<!-- http://blog.octo.com/larchitecture-microservices-sans-la-hype-quest-ce-que-cest-a-quoi-ca-sert-est-ce-quil-men-faut/ -->
				<aside class="notes">
					Pas trop de détails sur les languages, frameworks ou implémentations.
				</aside>
			</section>
			<section>
				<section>
					<h4>L'application à installer</h4>
					<ul>
						<li>On la télécharge (ou on insère un CD / DVD)</li>
						<li>Puis on l'installe sur son ordinateur</li>
						<li>Exemple : Word ou Excel</li>
					</ul>
				</section>
				<section>
					<table>
						<thead>
							<tr>
								<th>Avantages</th>
								<th>Inconvénients</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Utilisable offline</td>
								<td>Livraison<br>Installation<br>Mises à jours<br>Dépendant de l'OS</td>
							</tr>
						</tbody>
					</table>
				</section>
			</section>
			<section>
				<section>
					<h4>Architectures orientées services</h4>
					<ul>
						<li>C'est une représentation logique d'une activité métier avec un résultat attendu.</li>
						<li>Elle est auto-contenue.</li>
						<li>C'est une boite noire pour ses utilisateurs.</li>
						<li>Elle peut être composée de sous-services.</li>
						<li>Exemple : Google Docs</li>
					</ul>
				</section>
				<section>
					<h5>Principes fondateurs</h5>
					<ul>
						<li>La valeur métier est plus importante que la stratégie technique.</li>
						<!-- <li>Des cibles stratégiques sont plus importantes que les bénéfices des projets spécifiques.</li> -->
						<li>L'inter-operabilité intrinsèque est plus importante que les intégrations spécifiques.</li>
						<li>Il vaut mieux avoir des services génériques partagés que des implémentations spécifiques.</li>
						<li>La flexibilité est plus importante que l'optimisation.</li>
						<li>Il vaut mieux rafiner progressivement qu'essayer de faire parfait dès le début.</li>
					</ul>
				</section>
				<section>
					Pas de standard quand à la composition d'une architecture orientée services. Les services sont en général :<br>
					<ul>
						<li>Contractualisés</li>
						<li>Autonomes</li>
						<li>Accessibles</li>
						<li>Boîtes noires</li>
						<li>Granulaires</li>
						<li>Composables</li>
						<li>Réutilisables</li>
						<li>(Auto-découvrables)</li>
						<li>(Composés de services qui n'etaient pas prévus pour une architecture SOA)</li>
					</ul>
				</section>
				<section>
					<table>
						<thead>
							<tr>
								<th>Avantages</th>
								<th>Inconvénients</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Pas de livraison<br>Pas d'installation<br>Mises à jours automatiques<br>Indépendant de l'OS</td>
								<td>Nécessite une connection internet</td>
							</tr>
						</tbody>
					</table>
				</section>
			</section>
			<section>
				<section>
					<h4>Services Web</h4>
					<img src="./img/web-schema.svg" style="background:none;border:none;box-shadow:none">
				</section>
				<section>
					<h5>Representational state transfer (REST)</h5>
					<ul>
						<li>Style d'architecture</li>
						<li>Client-Serveur</li>
						<li>Sans état</li>
						<li>Mise en cache</li>
						<li>Une interface uniforme : identification des ressources, manipulation des ressources à travers des représentations, message auto-descriptif, hypermédia comme moteur d'état de l'application</li>
					</ul>
				</section>
				<section>
					<h5>API Web</h5>
					<ul>
						<li>Basé sur le protocole HTTP</li>
						<li>Un verbe = une action</li>
						<li>GET, POST, PUT, DELETE, PATCH</li>
						<li>Permet de manipuler les ressources à partir d'une application client ou d'un autre service</li>
					</ul>
				</section>
				<section>
					<h5>Contrat / documentation d'API</h5>
					<iframe src="https://petstore.swagger.io/" style="width:100%;height:500px"></iframe>
					<!-- <img src="./img/swagger.png"> -->
				</section>

				<section>Exemples
					<ul>
						<li>Autonomes</li>
						<li>Accessibles => DNS</li>
						<li>Boîtes noires</li>
						<li>Granulaires</li>
						<li>Composables</li>
						<li>Réutilisables</li>
						<li>(Auto-découvrables)</li>
						<li>(Composés de services qui n'etaient pas prévus pour une architecture SOA)</li>
					</ul>
				</section>
			</section>
			<section>
				<section>
					<h4>L'architecture micro-services</h4>
					<ul>
						<li>Apparue au début de la décénie</li>
						<li>Popularisée par Netflix</li>
						<li>Considérée (a tord) comme un remède miracle</li>
					</ul>
				</section>
				<section>
					<h5>Principe</h5> La philosophie est identique à celle du monde UNIX : "Faire une seule chose mais bien le faire".
					<ul>
						<li>Les services sont petits et ne font qu'une seule fonction.</li>
						<li>Le déploiement et le test automatique sont indispensables.</li>
						<li>Durant la conception, il faut vivre avec les erreur et les pannes, quite à en provoquer.</li>
						<li>Chaque service est élastique, résistant, composable, minimal et complet.</li>
					</ul>
				</section>
				<section>
					<table>
						<thead>
							<tr>
								<th>Avantages</th>
								<th>Inconvénients</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Maintenance simplifiée et moins coûteuse</td>
								<td>Coût initial supérieur</td>
							</tr>
						</tbody>
					</table>
				</section>
				<section>
					<h5>Exemple : redimensionnement de miniature</h5> L'utilisateur charge une photo ou image pour son profil et celle ci ets redimensionnée automatiquement pour bien s'intégrer au site.
				</section>
				<section>
					<h5>Eviter les nano-services (1)</h5>
					<ul>
						<li>Les micro-services trop petits sont un anti-pattern</li>
						<li>Surcharge de code écrit (et donc de bugs)</li>
						<li>Surcharge d'exécution : transformations, trafic réseau, ...</li>
						<li>Logique fragmentée : la fonctionnalité est distribuée sur plusieurs services => surcoût de conception et de maintenance</li>
					</ul>
				</section>
				<section>
					<h5>Eviter les nano-services (2)</h5>
					<ul>
						<li>Packager une fonctionnalité en tant que librairie plutot que service</li>
						<li>Combiner la fonctionnalité avec d'autres pour avoir un service un peu plus conséquent</li>
						<li>Refactoriser le système : refaire son design ou mettre la fonctionnalité dans d'autres services existants</li>
					</ul>
				</section>
			</section>

			<section>
				<section>Transition d'un gros service a plusieur (Aka pelage du monolithe - terme a revoir ?)</section>
				<section>Big-bang = cata, boum</section>
				<section>Une orange (pomme ?) en train d'etre pelée</section>
			</section>

			<section>
				<section>
					<h4>Architecture Web</h4>
					<img src="./img/fullstack.png" style="background:none;border:none;box-shadow:none">
				</section>
				<section>
					<h5>Choix de la stack</h5>
					<img src="./img/stack-items.png">
				</section>
				<section>
					<h5>Base de données</h5>
					<img src="./img/ACP.jpg">
				</section>
				<section>Faut pas oublier l'expérience utilisateur, faut que ca trace</section>
				<section>Tout est API (image)</section>
				<section>API gateway</section>
			</section>
			<section>
				<section>
					<h4>Automatisation</h4>
					<img src="./img/five-little-robots.svg" style="background:none;border:none;box-shadow:none">
				</section>
				<section>
					<h5>Devops</h5>
					<ul>
						<li>development + operations</li>
						<li>Objectifs contradictoire : fonctionnalité vs stabilité</li>
						<li>Dévelopements, Déploiements, tests, déploiements, test, ...</li>
						<li>Feedback / amélioration rapide sur des petites itérations</li>
						<li>Mesures, analyses, surveillance</li>
					</ul>
				</section>
				<section>
					<h5>Amélioration continue</h5>
					<img src="./img/DevOps-cycle.png">
				</section>
				<section>
					<h5>Développement</h5>
					<img src="./img/computers.svg" style="width:80%">
				</section>
				<section>
					<h5>Build</h5>
					<ul>
						<li>Objectif : préparer le livrable</li>
						<li>Déclenché au commit</li>
						<li>Peut se décomposer en plusieurs phases</li>
						<li>Si tous les indicateurs sont au vert, un livrable est créé</li>
						<li>Différents types : archive, conteneur, image, tag dans un SCM, ...</li>
					</ul>
				</section>
				<section>
					<h5>Tests</h5>
					<ul>
						<li>Les tests unitaires font partie du développement</li>
						<li>Tests d'intégration</li>
						<li>Les tests sont programmés ou enregistrés</li>
						<li>Tests d'API et test d'UI</li>
						<li>Testcomplete, SoapUI, Selenium, ...</li>
					</ul>
				</section>
				<section>
					<h5>Release</h5>
					<ul>
						<li>Le livrable a un code (peut être lié a un hash de commit)</li>
						<li>Le livrable est promu</li>
						<li>On peut avoir une étape intermédiaire : release candidate</li>
						<li>Mise a jour dans le gestionnaire de code (tag)</li>
					</ul>
				</section>
				<section>
					<h5>Déploiement</h5>
					<ul>
						<li>Le livrable est installé dans un ou plusieurs environnements</li>
						<li>Processus automatisé : Ansible, Docker, ...</li>
						<li>Les configurations de déploiement peuvent être versionnées</li>
						<li>Bien maitriser la configuration des proxys</li>
					</ul>
				</section>
				<section>
					<h5>Exploitation</h5>
					<ul>
						<li>Mise en place de contrôles et d'alertes</li>
						<li>Ajustement par rapport à la charge (Load balancing)</li>
						<li>Collecte d'indicateurs (Monitoring)</li>
					</ul>
				</section>
			</section>
			<section>
				<section>
					<h4>Avenement du cloud</h4>
					<img src="./img/world-wide-web.svg" style="background:none;border:none;box-shadow:none;width:50%">
				</section>
				<section>
					<h5>Outils en ligne</h5>
					<ul>
						<li>SCM : Gitlab, Github, ...</li>
						<li>Build : Gitlab, TravisCI, ...</li>
						<li>Registres docker : Gitlab, Dockerhub, ...</li>
						<li>Test, monitoring, ...</li>
					</ul>
				</section>
				<section>
					<h5>Hébergement de machines virtuelles</h5>
					<ul>
						<li>Provisionnées en quelques minutes</li>
						<li>Peuvent être conséquentes et supporter beaucoup de machine</li>
						<li>Très facile de composer sa propre architecture / sous-réseau</li>
						<li>On peut s'adapter facilement aux variations et pics de charge</li>
						<li>Il faut des compétences d'opérationel</li>
					</ul>
				</section>
				<section>
					<h5>Hébergement de conteneurs</h5>
					<ul>
						<li>Les conteneurs sont plus légers que les VM</li>
						<li>Conteneurs déployés en quelques secondes</li>
						<li>On ne s'occupe plus du matériel</li>
						<li>Très facile de composer sa propre architecture / sous-réseau</li>
						<li>On peut s'adapter encore plus facilement aux variations et pics de charge</li>
						<li>Compétences d'opérationel plus restreintes</li>
					</ul>
				</section>
				<section>
					<h5>La conteneurisation gagne du terrain !</h5>
					<img src="./img/Docker_Supply-chain-V1.5-01.png" style="background:none;border:none;box-shadow:none">
				</section>
			</section>
			<section>
				<h3>Merci !</h3> Des questions ?
			</section>
		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>
		// More info https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			history: true,

			// More info https://github.com/hakimel/reveal.js#dependencies
			dependencies: [{
				src: 'plugin/markdown/marked.js'
			}, {
				src: 'plugin/markdown/markdown.js'
			}, {
				src: 'plugin/notes/notes.js',
				async: true
			}, {
				src: 'plugin/highlight/highlight.js',
				async: true,
				callback: function() {
					hljs.initHighlightingOnLoad();
				}
			}]
		});
	</script>
</body>

</html>
